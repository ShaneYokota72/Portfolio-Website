<!DOCTYPE html>
<html>
<head>
  <title>Num Scan</title>
</head>S
<body>
  <h2>Foreground Image</h2>
  <input type="file" id="imageInput">
  <h2>Background Image</h2>
  <input type="file" id="Background">
  <img id="my-image" src="" alt="">
  <img id="bg-image" src="" alt="">
  <canvas id="canvas" width="0" height="0"></canvas>
  <canvas id="canvas2" width="0" height="0"></canvas>
  <script>
    // all the values needed from the HTML file
    const input = document.getElementById('imageInput');
    const input2 = document.getElementById('Background');
    const img = document.getElementById("my-image");
    const img2 = document.getElementById("bg-image");
    const canvas = document.getElementById('canvas');
    const ctx = canvas.getContext("2d");
    const canvas2 = document.getElementById('canvas2');
    const ctx2 = canvas2.getContext("2d");

    // setting the img in the HTML file to the inputed image
    input.addEventListener('change', function (){
        const file = input.files[0];
        const reader = new FileReader();
        reader.onload = function(){
            img.src = reader.result;
        }
        reader.readAsDataURL(file);
    });

    // setting the img2 in the HTML file to the inputed image
    input2.addEventListener('change', function (){
        const file = input2.files[0];
        const reader = new FileReader();
        reader.onload = function(){
            img2.src = reader.result;
        }
        reader.readAsDataURL(file);
    });

    // Apply some change to the file and put it into the canvas on the HTML file
    img.addEventListener('load', function(){
        let width = img.clientWidth;
        let height = img.clientHeight;
        canvas.setAttribute('height', height);
        canvas.setAttribute('width', width);
        ctx.drawImage(img, 0, 0);

        // getting the RGB data output on terminal
        const imageData = ctx.getImageData(0, 0, width, height);
        const pixelData = imageData.data;
        console.log("1st img")
        console.log(pixelData);
    })

    img2.addEventListener('load', function(){
        let width = img.clientWidth;
        let height = img.clientHeight;
        canvas.setAttribute('height', height);
        canvas.setAttribute('width', width);
        ctx.drawImage(img, 0, 0);

        let bgwidth = img2.clientWidth;
        let bgheight = img2.clientHeight;
        canvas2.setAttribute('height', bgheight);
        canvas2.setAttribute('width', bgwidth);
        ctx2.drawImage(img2, 0, 0);

        // getting the RGB data for FG
        const imageData = ctx.getImageData(0, 0, width, height);
        const pixelData = imageData.data;

        // getting the RGB data for BG
        const bgData = ctx2.getImageData(0, 0, bgwidth, bgheight);
        const bgpixelData = bgData.data;
        
        console.log("1st img")
        console.log(pixelData);

        console.log("2nd img")
        console.log(bgpixelData);

    })

  </script>
</body>
</html>

